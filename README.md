<div align="center">

<img src="firefox/icons/NetflixAmazon%20Auto-Skip.svg" width="10%">

# Streaming enhanced ![Dynamic JSON Badge](https://img.shields.io/badge/dynamic/json?url=https%3A%2F%2Fraw.githubusercontent.com%2FDreamlinerm%2FNetflix-Prime-Auto-Skip%2Fmain%2Fpackage.json&query=version&label=Version)


## Automatically skip Ads, Intros, Recaps, Credits, etc. on Netflix, Prime video, Disney+ (Hotstar, STAR+), Crunchyroll and HBO max

<a href="https://addons.mozilla.org/firefox/addon/netflix-prime-auto-skip/">
<img src="Logos/firefox.svg" width="20px">
</a>
<img src="https://img.shields.io/amo/dw/NetflixPrime@Autoskip.io" >
<img src="https://img.shields.io/amo/users/NetflixPrime@Autoskip.io" >
<img src="https://img.shields.io/amo/stars/NetflixPrime@Autoskip.io?color=e60010" >
<br>
<a href="https://chrome.google.com/webstore/detail/streaming-enhanced-netfli/akaimhgappllmlkadblbdknhbfghdgle">
<img src="Logos/chrome.svg" width="20px">
</a>
<img src="https://img.shields.io/chrome-web-store/users/akaimhgappllmlkadblbdknhbfghdgle" >
<img src="https://img.shields.io/chrome-web-store/stars/akaimhgappllmlkadblbdknhbfghdgle?color=e60010" >
<br>
<a href="https://github.com/sponsors/Dreamlinerm">
<img src="https://img.shields.io/badge/Donate-PayPal-blue.svg?style=flat&logo=paypal">
</a>
<a href="https://discord.gg/5fBYathA7d">
<img src="Logos/discord-6.svg" width="50">
Discord Server
</a>
</div>


## Install in Browser (click on image)

<a href="https://addons.mozilla.org/firefox/addon/netflix-prime-auto-skip/">
<img src="Logos/firefox.svg" width="8%" alt="firefox">
</a>
<a href="https://chrome.google.com/webstore/detail/streaming-enhanced-netfli/akaimhgappllmlkadblbdknhbfghdgle">
<img src="Logos/chrome.svg" width="8%" alt="chrome">
</a>
<a href="https://chrome.google.com/webstore/detail/streaming-enhanced-netfli/akaimhgappllmlkadblbdknhbfghdgle">
<img src="Logos/microsoft-edge-1.svg" width="8%" alt="chrome">
</a>

### Browser Compatibility:

| Netflix | Prime Video         | Disney+ (Hotstar, STAR+) | Crunchyroll | HBO                |
| ---     | ---                 | ---                      | ---         | ---                |
| ‚úÖ     | ‚úÖ | ‚úÖ      | ‚úÖ         | ‚úÖ |

## Install on Android

<div style="display:flex">
                <a href="https://addons.mozilla.org/firefox/addon/netflix-prime-auto-skip/">
                <img src="Logos/firefox.svg" width="8%" alt="firefox">
                </a>
                <a href="https://play.google.com/store/apps/details?id=com.kiwibrowser.browser">
                <img src="Logos/kiwi.webp" width="8%">
                </a>
</div>

Download [Firefox](https://addons.mozilla.org/firefox/addon/netflix-prime-auto-skip/), [Kiwi Browser](https://play.google.com/store/apps/details?id=com.kiwibrowser.browser) or similar to be able to install the firefox/chrome extension. 

The drm for each streaming service will be installed automatically when a video started for the first time and you may need to reload the page once.

## Android Compatibility:

| Netflix | Prime Video         | Disney+ (Hotstar, STAR+) | Crunchyroll | HBO                |
| ---     | ---                 | ---                      | ---         | ---                |
| ‚ùå     | ‚úÖ(tweaked Desktop Website) | ‚úÖ(default Desktop Website)      | ‚úÖ         | ‚úÖ |

## Supported Streaming Services

<table>
    <tr>
      <td align="center" valign="top" width="14.28%">
        <img src="Logos/Netflix.png" width="20%">
        <img src="Logos/prime%20video.png" width="20%" >
        <img src="Logos/crunchyroll.avif" width="20%">
        <img src="Logos/disney-plus-logoBackground.jpeg" width="20%">
        <img src="Logos/Disney-Plus-HotstarBackground.webp" width="20%">
        <img src="Logos/starplus.png" width="20%" style="background-color:white;">
        <img src="Logos/HBO-max.jpg" width="20%">
      </td>
    </tr>
</table>

## What it does

The script, "skipper.js", is injected into all urls containing "amazon.\*/\*/video" or "netflix.com" or "disneyplus.com" or "hotstar.com" or "starplus.com".

It automatically skips Ads, intros, Credits, recaps, and anything else you don't want to watch on Netflix, Prime video and Disney Plus (Hotstar, STAR+).


## ‚ú® Features

On Netflix, Prime Video, Disney+ (Hotstar, STAR+), Crunchyroll and HBO max it automatically:

<ul>
<li>Skips Intros & Recaps</li>
<li>Either Skips Credits</li>
<li>Or Watch Credits</li>
<li>Skips Ads</li>
<li>Shows TMDB Rating</li>
<li>Adds customizable playback speed control</li>
<li>Improve subtitle styling</li>
<li>Plays on Fullscreen</li>
</ul>

In addition to the Shared features:

On Netflix it additionally automatically:

<ul>
<li>Picks last used profile</li>
<li>Blocks Inactivity Warning (Are you still watching?)</li>
</ul>

On Amazon Prime Video it additionally automatically:

<ul>
<li>Skips Self promoting ads (Ads for prime video productions)</li>
<li>Filters paid content (movies, series)</li>
<li>Removes annoying blur when hovering over video</li>
</ul>

On Crunchyroll it additionally automatically:
<ul>
<li>Adds Filters to Release Calendar</li>
</ul>

On Disney+ (Hotstar, STAR+) it additionally automatically:
<ul>
<li>goes back to full screen when skipping to the next episode</li>
</ul>

If you want to see what is implemented go [here](#implemented-feature-overview):

## üíï Enjoying Streaming enhanced?

Buy me a coffee! [PayPal](https://github.com/sponsors/Dreamlinerm)

## Contributing

If you have any suggestions or Bugs, please open an issue or join the  [Discord](https://discord.gg/7us76ErE). 
Everyone is welcome to contribute!

## Settings

Configure what is skipped in the settings Page.

Import and Export all Settings.

See Statistics. All statistics and settings are not shared but are synchronized with your browser account.


# Implemented Feature Overview

| abbrev. | definition |
| --- | --- |
|S|season|
|E|episode|
|‚úÖ| Implemented|
|‚ûñ| Not available|
|‚ùå| Not implemented|
|?| don't know if necessary|
| Name| service specific features|

| Feature | Netflix | Prime Video | Disney+ (Hotstar, STAR+) | Crunchyroll | HBO max |
| --- | --- | --- | --- | --- | --- |
| Intro | ‚úÖ <a href="https://www.netflix.com/watch/80011385">brooklyn nine nine S1E4</a>| ‚úÖ  <a href="https://www.amazon.de/gp/video/detail/B07FMF18GN">lucifer S3E4</a>| ‚úÖ <a href="https://www.disneyplus.com/en-gb/video/4e9305a0-6ade-4922-bfba-c68c53a0d5a6">star wars andor S1E2</a> | ‚úÖ [One piece](https://www.crunchyroll.com/series/GRMG8ZQZR/one-piece) | ‚úÖ |
| Recaps | ‚úÖ <a href="https://www.netflix.com/watch/81274622">Outer Banks S2E1</a>| ‚úÖ <a href="https://www.amazon.de/gp/video/detail/B07FMF18GN">lucifer S3E3</a> | ‚úÖ <a href="https://www.disneyplus.com/en-gb/video/efe020f1-7a23-42b5-a330-b193eef8531b">Criminal Minds S1E2</a>| ? | ‚úÖ |
| Credits | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå(not necessary if outro is skipped) | ‚úÖ |
| Ads | ‚úÖ | ‚úÖ [2 Broke Girls](https://www.amazon.de/gp/video/detail/B01D0H8CAY/ref=atv_hm_fre_c_zwoINQ_2_2?jic=36%7CCgtmcmVld2l0aGFkcxIMc3Vic2NyaXB0aW9u) | ‚ûñ | ‚ùå(Ublock can do it) | ? |
| Add Speed Slider | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Play on Fullscreen | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| TMDB Rating | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå(MAL ratings better) | ‚úÖ |
| Individual Features | <ul><li>Inactivity Warning</li><li>Auto pick last profile</li></ul> | <ul><li>Skip Self Ads</li><li>Paid Content filter</li><li>Move category "Continue":</li></ul> | <ul><li>Remove duplicate Shows</li></ul> | <ul><li>Release Calendar Filters</li></ul> | ‚ûñ |

## How it works

The addon is observing every mutation of the dom Tree of the Website.
The exact classes may be outdated since I do not update these regularly.

On Netflix it matches the buttons with the data-uia tag containing:

* Intro: player-skip-intro
* Recap: player-skip-recap, player-skip-preplay
* Credits: next-episode-seamless-button
* Inactivity Warning: interrupt-autoplay-continue
* Basic tier ads: matched by css class .default-ltr-cache-mmvz9h and the speed is set to 16x until the ad is over

On Prime video it matches buttons with the Css Classes:

* Intro: skipelement
* Credits: nextupcard-button
* Self promoting ads: .fu4rd6c.f1cw2swo
* Paid Content: .o86fri (yallow text indicates paid films)
  
The freevee ad text contains the ad length which is matched by 

* Freevee ads: .atvwebplayersdk-ad-timer-text

and then skipped by forwarding by the ad length -0.1 seconds which will fix a lot of issues it turns out.

## Run the Extension

## Chrome

To run the extension in chrome you can just load the ``chrome`` folder as an unpacked extension. But every time you modify the code you have to reload the extension on the extension page manually.
I primarily just develop in firefox and then copy the code into chrome and replace ``browser`` with ``chrome`` in the code.

## Firefox 

Just like chrome you can temporarily load the extension by going to ``about:addons``, clicking on the gear icon and then ``Install Add-ons From File``. Then you can load the ``firefox`` folder as a temporary extension.

### Install web-ext and Firefox for a better development experience

```npm install --global web-ext``` to install web-ext globally

```npm start``` to start in firefox

### debug

Create a profile named ``test`` in Firefox in the ``about:profiles`` page. Then you can login into Netflix etc. in the profile and then every time you run the command you don't have to login again.

```npm run profile``` to start in firefox with the profile "test" selected

## All Commands

```npm start```  start the firefox development

```npm run start-android```  start on firefox android

```npm run profile```  start the firefox development with the profile "test" selected

```npm run lint```   lint all the js files

```npm run esLint``` lint all the manifest files

```npm run build```  copy files from firefox to chrome and build the zips files to upload

```npm run copy```   copy files from firefox to chrome

```npm run zip```    build the zips files to upload

```npm test```       test with python Selenium __testsOutdated__

## Test the Extension with Selenium python

### Setup

- insert your own firefox profile filepath to be logged into every platform in the ``test.py`` file.
- install Python
- install selenium ``pip install -U selenium``

### Run

```npm test```

Cli ARGS:
- none : all tests
- 'n': Netflix tests
- 'p': Prime Video tests
- 'd': Disney tests

```npm test n p d```

## Changelog

You can see the Changelog in the addon or in the published versions.

## Disclaimer

Netflix, Amazon Prime video and Disney+ (Hotstar, STAR+), Crunchyroll and HBO max are trademarks and the author of this addon is not affiliated with these companies.
